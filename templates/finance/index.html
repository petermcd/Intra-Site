{% extends "main.html" %}
{% load static %}
{% block title %}Finance{% endblock %}
{% block breadcrumbs %}<a href="/">Home</a> > Finance{% endblock %}
{% block content %}
        <header>
            <h1>Finance</h1>
        </header>
        <section id="table_list">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Company</th>
                        <th>Paid From</th>
                        <th>Due Day</th>
                        <th>Payment</th>
                    </tr>
                </thead>
                <tbody>
                {% for bill in bills_list %}
                    <tr>
                        <td class="title col-3">
                            {% if bill.bill_type == 'loan' %}
                                <a href="/finance/loan/{{ bill.pk }}/">{{ bill.lender }}</a>
                            {% else %}
                                <a href="/finance/bill/{{ bill.pk }}/">{{ bill.company }}</a>
                            {% endif %}
                        </td>
                        <td>{{ bill.paid_from }}</td>
                        <td>{{ bill.due_day }}</td>
                        <td>{{ bill.formatted_monthly_payment }}</td>
                    </tr>
                {% endfor %}
                {% if object_list|length < 1 %}
                    <tr>
                        <td colspan="4">No bills or loans configured</td>
                    </tr>
                {% endif %}
                </tbody>
                <tfoot>
                    {% for method, value in to_pay.items %}
                        <tr>
                            <td colspan="2"></td>
                            <td>To Pay ({{ method }})</td>
                            <td>{{ value }}</td>
                        </tr>
                    {% endfor %}
                    {% for method, value in monthly_total.items %}
                        <tr>
                            <td colspan="2"></td>
                            <td>Monthly Total ({{ method }})</td>
                            <td>{{ value }}</td>
                        </tr>
                    {% endfor %}
                </tfoot>
            </table>
        </section>
{% endblock %}