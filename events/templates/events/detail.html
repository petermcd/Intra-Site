{% extends "main.html" %}
{% load static %}
{% block title %}{{ event.name }}{% endblock %}
{% block content %}
<header>
    <h1>{{ event.name }}</h1>
</header>
<main class="container">
    <section id="event_details">
        <div class="row">
            <div class="details col-6">
                <strong>Starts</strong> {{ event.starting|date:'H:i d/m/y' }}{% if event.ending %}{% endif %}
                {% if event.ending %}<br /><strong>Ends</strong> {{ event.ending|date:'H:i d/m/y' }}{% endif %}<br /><br />
                {% if event.venue %}<strong>Where</strong><br /><pre>{{ event.venue.printable }}</pre>{% endif %}
                <strong>Details</strong><br />{{ event.description }}<br /><br />
                {% if accommodation %}
                    <strong>Accommodation</strong><br />
                    {% for hotel in accommodation %}
                        <u>{{ hotel.hotel_name }}</u><br />
                        Checkin: {{ hotel.checkin|date:'H:i d/m/y' }}<br />
                        Checkout: {{ hotel.checkout|date:'H:i d/m/y' }}<br />
                    {% endfor %}<br />
                {% endif %}
                {% if to %}
                    <strong>Travel to</strong><br />
                    {% for to_event in to %}
                        From: {{ to_event.venue.name }}<br />
                        Method: {{ to_event.method.name }}<br />
                        When: {{ to_event.starting|date:'H:i d/m/y' }}<br />
                        {% if to_event.notes %}notes: {{ to_event.notes }}<br />{% endif %}
                    {% endfor %}<br />
                {% endif %}
                {% if from %}
                    <strong>Travel From</strong><br />
                    {% for from_event in from %}
                        From: {{ from_event.venue.name }}<br />
                        Method: {{ from_event.method.name }}<br />
                        When: {{ from_event.starting|date:'H:i d/m/y' }}<br />
                        {% if from_event.notes %}notes: {{ from_event.notes }}<br />{% endif %}
                    {% endfor %}
                {% endif %}
            </div>
            <aside class="col-6">
                {% if event.venue %}<iframe
                    title="Event Location"
                    class="col-12"
                    height="600"
                    style="border:0"
                    loading="lazy"
                    allowfullscreen
                    src="https://www.google.com/maps/embed/v1/place?key={{ api_key }}&q={{ event.venue|urlencode }}">
                </iframe>{% endif %}
            </aside>
        </div>
    </section>
</main>
{% endblock %}
